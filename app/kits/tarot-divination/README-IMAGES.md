# 塔罗牌图片生成说明

## 📚 概述

本项目使用预生成的图片来展示塔罗牌，而不是每次占卜时实时生成。这样可以：
- ⚡ **加载速度快** - 无需等待 API 生成
- 💰 **成本低** - 只需生成 22 次（一次性）
- 🎨 **质量可控** - 可以人工筛选最佳图片
- 🔒 **稳定可靠** - 不依赖实时 API 调用

## 🎯 生成步骤

### 1. 设置环境变量

```bash
export GEMINI_API_KEY=your_gemini_api_key_here
```

### 2. 运行生成脚本

```bash
# 生成所有 22 张塔罗牌图片
node scripts/generate-tarot-images.js
```

脚本将：
- 为每张大阿卡纳牌生成一张精美图片
- 保存到 `public/images/tarot/` 目录
- 文件名格式：`major-0.png` 到 `major-21.png`

### 3. 更新数据文件（可选）

如果需要批量更新 `tarotData.ts` 中的 `image` 字段：

```bash
node scripts/update-tarot-images.js
```

## 📁 目录结构

```
public/
  └── images/
      └── tarot/
          ├── major-0.png   # 愚者
          ├── major-1.png   # 魔术师
          ├── major-2.png   # 女祭司
          ...
          └── major-21.png  # 世界
```

## 🎨 图片规格

- **尺寸**: 由 Gemini API 自动决定（通常 1024x1024 或类似）
- **格式**: PNG
- **风格**: 神秘主义、梦幻、精美装饰边框
- **内容**: 符合传统塔罗牌象征意义

## 🔄 重新生成图片

如果需要重新生成某张牌的图片：

1. 删除对应的 PNG 文件
2. 修改 `scripts/generate-tarot-images.ts` 中的数组，只保留需要生成的牌
3. 重新运行生成脚本

## ⚠️ 注意事项

1. **API 限流**: 脚本在每次生成后会等待 2 秒，避免触发 API 限流
2. **网络问题**: 如果某张牌生成失败，脚本会跳过并继续下一张
3. **成本**: 生成 22 张图片需要调用 22 次 API（一次性成本）
4. **质量审核**: 建议生成后人工审核图片质量，必要时重新生成

## 🔧 自定义提示词

如果需要调整图片风格，编辑 `scripts/generate-tarot-images.ts` 中的 `generatePrompt()` 函数。

可以修改：
- 色彩风格
- 艺术风格（写实/抽象/动漫等）
- 装饰元素
- 符号密度

## 📊 当前状态

- ✅ 生成脚本已创建
- ✅ 目录结构已创建
- ✅ 组件已支持预生成图片
- ⏳ 图片待生成（需要运行脚本）

## 💡 提示

生成图片后，可以：
1. 在 Photoshop/GIMP 中进行后期优化
2. 统一裁剪尺寸和比例
3. 添加统一的边框或水印
4. 调整亮度/对比度使整体风格统一

